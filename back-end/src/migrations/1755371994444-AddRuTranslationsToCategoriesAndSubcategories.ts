import { MigrationInterface, QueryRunner } from 'typeorm';

export class CombinedRuTranslations1755374994448 implements MigrationInterface {
  public async up(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(`
      ALTER TABLE "categories"
        ADD COLUMN IF NOT EXISTS "name_ru" varchar(255),
        ADD COLUMN IF NOT EXISTS "title_ru" varchar(255),
        ADD COLUMN IF NOT EXISTS "heading_ru" varchar(255),
        ADD COLUMN IF NOT EXISTS "description_ru" text,
        ADD COLUMN IF NOT EXISTS "keywords_ru" text;
    `);

    await queryRunner.query(`
      ALTER TABLE "subcategories"
        ADD COLUMN IF NOT EXISTS "name_ru" varchar(255),
        ADD COLUMN IF NOT EXISTS "title_ru" varchar(255),
        ADD COLUMN IF NOT EXISTS "heading_ru" varchar(255),
        ADD COLUMN IF NOT EXISTS "description_ru" text,
        ADD COLUMN IF NOT EXISTS "keywords_ru" text;
    `);

    // --- Bulk set categories.title_ru ---
    await queryRunner.query(`
      UPDATE "categories" AS c
      SET "title_ru" = v.title_ru
      FROM (VALUES
        (1,  'Хирургия - купить медтехнику в Украине - интернет-магазин Medix'),
        (2,  'Кардиология - купить медтехнику в Украине - интернет-магазин Medix'),
        (3,  'Реанимация - купить медтехнику в Украине - интернет-магазин Medix'),
        (4,  'Мебель для медицинских учреждений - купить медтехнику в Украине - интернет-магазин Medix'),
        (5,  'Физиотерапевтическое и реабилитационное оборудование - купить медтехнику в Украине - интернет-магазин Medix'),
        (6,  'Офтальмология - купить медтехнику в Украине - интернет-магазин Medix'),
        (7,  'Оборудование для неонатологии, акушерства, гинекологии - купить медтехнику в Украине - интернет-магазин Medix'),
        (8,  'Кислородное оборудование - купить медтехнику в Украине - интернет-магазин Medix'),
        (9,  'Стерилизация - купить медтехнику в Украине - интернет-магазин Medix'),
        (10, 'Лабораторное оборудование - купить медтехнику в Украине - интернет-магазин Medix'),
        (11, 'Эндоскопическое оборудование - купить медтехнику в Украине - интернет-магазин Medix'),
        (12, 'Радиология - купить медтехнику в Украине - интернет-магазин Medix'),
        (13, 'УЗИ - купить медтехнику в Украине - интернет-магазин Medix'),
        (14, 'Медицинские лазеры - купить медтехнику в Украине - интернет-магазин Medix'),
        (15, 'ЛОР - купить медтехнику в Украине - интернет-магазин Medix'),
        (16, 'Стоматология - купить медтехнику в Украине - интернет-магазин Medix'),
        (17, 'Косметология и дерматология - купить медтехнику в Украине - интернет-магазин Medix'),
        (18, 'Б/у оборудование - купить медтехнику в Украине - интернет-магазин Medix')
      ) AS v(id, title_ru)
      WHERE c.id = v.id;
    `);

    await queryRunner.query(`
      UPDATE "categories" AS c
      SET "heading_ru" = v.heading_ru
      FROM (VALUES
        (1,  'Хирургия'),
        (2,  'Кардиология'),
        (3,  'Реанимация'),
        (4,  'Мебель для медицинских учреждений'),
        (5,  'Физиотерапия и реабилитация'),
        (6,  'Офтальмология'),
        (7,  'Неонатология, акушерство, гинекология'),
        (8,  'Кислородное оборудование'),
        (9,  'Стерилизация'),
        (10, 'Лабораторное оборудование'),
        (11, 'Эндоскопия'),
        (12, 'Радиология'),
        (13, 'УЗИ'),
        (14, 'Медицинские лазеры'),
        (15, 'ЛОР'),
        (16, 'Стоматология'),
        (17, 'Косметология и дерматология'),
        (18, 'Б/у оборудование')
      ) AS v(id, heading_ru)
      WHERE c.id = v.id;
    `);

    await queryRunner.query(`
      UPDATE "categories" AS c
      SET "name_ru" = v.name_ru
      FROM (VALUES
        (1,  'Хирургия'),
        (2,  'Кардиология'),
        (3,  'Реанимация'),
        (4,  'Мебель для медицинских учреждений'),
        (5,  'Физиотерапия и реабилитация'),
        (6,  'Офтальмология'),
        (7,  'Неонатология, акушерство, гинекология'),
        (8,  'Кислородное оборудование'),
        (9,  'Стерилизация'),
        (10, 'Лабораторное оборудование'),
        (11, 'Эндоскопия'),
        (12, 'Радиология'),
        (13, 'УЗИ'),
        (14, 'Медицинские лазеры'),
        (15, 'ЛОР'),
        (16, 'Стоматология'),
        (17, 'Косметология и дерматология'),
        (18, 'Б/у оборудование')
      ) AS v(id, name_ru)
      WHERE c.id = v.id;
    `);

    // --- Bulk set subcategories.title_ru (with SEO tail) ---
    await queryRunner.query(`
      UPDATE "subcategories" AS s
      SET "title_ru" = v.title_ru
      FROM (VALUES
        (4,  'Инфузионное оборудование - купить медтехнику в Украине - интернет-магазин Medix'),
        (3,  'Хирургические аспираторы - купить медтехнику в Украине - интернет-магазин Medix'),
        (77, 'Диодные хирургические лазеры - купить медтехнику в Украине - интернет-магазин Medix'),
        (6,  'Электрохирургия - купить медтехнику в Украине - интернет-магазин Medix'),
        (9,  'Наборы инструментов - купить медтехнику в Украине - интернет-магазин Medix'),
        (7,  'Нейрохирургия - купить медтехнику в Украине - интернет-магазин Medix'),
        (5,  'Операционные микроскопы - купить медтехнику в Украине - интернет-магазин Medix'),
        (2,  'Операционные светильники - купить медтехнику в Украине - интернет-магазин Medix'),
        (1,  'Операционные столы - купить медтехнику в Украине - интернет-магазин Medix'),
        (78, 'Хирургические лазеры - купить медтехнику в Украине - интернет-магазин Medix'),
        (8,  'Хирургические инструменты - купить медтехнику в Украине - интернет-магазин Medix'),

        (10, 'Электрокардиографы - купить медтехнику в Украине - интернет-магазин Medix'),
        (13, 'Внешние кардиостимуляторы - купить медтехнику в Украине - интернет-магазин Medix'),
        (11, 'Мониторы пациентов - купить медтехнику в Украине - интернет-магазин Medix'),
        (14, 'Пояса для ЭКГ - купить медтехнику в Украине - интернет-магазин Medix'),
        (12, 'Холтеры ЭКГ и АД - купить медтехнику в Украине - интернет-магазин Medix'),

        (16, 'Анестезионно-дыхательные аппараты - купить медтехнику в Украине - интернет-магазин Medix'),
        (15, 'Аппараты искусственной вентиляции лёгких - купить медтехнику в Украине - интернет-магазин Medix'),
        (17, 'Дефибрилляторы - купить медтехнику в Украине - интернет-магазин Medix'),
        (18, 'Ларингоскопы - купить медтехнику в Украине - интернет-магазин Medix'),

        (25, 'Медицинские тележки и каталки для перевозки больных - купить медтехнику в Украине - интернет-магазин Medix'),
        (27, 'Медицинские кресла - купить медтехнику в Украине - интернет-магазин Medix'),
        (24, 'Медицинские кушетки и массажные столы - купить медтехнику в Украине - интернет-магазин Medix'),
        (19, 'Медицинские кровати - купить медтехнику в Украине - интернет-магазин Medix'),
        (20, 'Медицинские столики - купить медтехнику в Украине - интернет-магазин Medix'),
        (22, 'Медицинские стойки - купить медтехнику в Украине - интернет-магазин Medix'),
        (28, 'Медицинские тумбы - купить медтехнику в Украине - интернет-магазин Medix'),
        (23, 'Медицинские шкафы - купить медтехнику в Украине - интернет-магазин Medix'),
        (21, 'Штативы - купить медтехнику в Украине - интернет-магазин Medix'),
        (26, 'Медицинские стулья - купить медтехнику в Украине - интернет-магазин Medix'),

        (31, 'Электротерапия - купить медтехнику в Украине - интернет-магазин Medix'),
        (33, 'Комбинированная терапия - купить медтехнику в Украине - интернет-магазин Medix'),
        (34, 'Лазерная терапия - купить медтехнику в Украине - интернет-магазин Medix'),
        (32, 'Физиотерапевтические облучатели - купить медтехнику в Украине - интернет-магазин Medix'),
        (35, 'Реабилитационное оборудование - купить медтехнику в Украине - интернет-магазин Medix'),
        (30, 'Терапия - купить медтехнику в Украине - интернет-магазин Medix'),
        (29, 'Ультразвуковая терапия - купить медтехнику в Украине - интернет-магазин Medix'),

        (39, 'Диагностика - купить медтехнику в Украине - интернет-магазин Medix'),
        (37, 'Щелевые лампы - купить медтехнику в Украине - интернет-магазин Medix'),
        (80, 'Операционные микроскопы для офтальмологии - купить медтехнику в Украине - интернет-магазин Medix'),
        (79, 'Наборы офтальмологических линз - купить медтехнику в Украине - интернет-магазин Medix'),
        (36, 'Офтальмологические микроскопы - купить медтехнику в Украине - интернет-магазин Medix'),
        (38, 'Офтальмоскопы - купить медтехнику в Украине - интернет-магазин Medix'),
        (81, 'Столы операционные - купить медтехнику в Украине - интернет-магазин Medix'),

        (42, 'Инкубаторы для новорожденных - купить медтехнику в Украине - интернет-магазин Medix'),
        (46, 'Билирубинометры - купить медтехнику в Украине - интернет-магазин Medix'),
        (41, 'Гинекологические кресла-столы - купить медтехнику в Украине - интернет-магазин Medix'),
        (45, 'Кольпоскопы - купить медтехнику в Украине - интернет-магазин Medix'),
        (44, 'Акушерские кровати - купить медтехнику в Украине - интернет-магазин Medix'),
        (43, 'Мебель для неонатологии - купить медтехнику в Украине - интернет-магазин Medix'),
        (47, 'Оборудование для фототерапии - купить медтехнику в Украине - интернет-магазин Medix'),
        (40, 'Фетальные мониторы и допплеры - купить медтехнику в Украине - интернет-магазин Medix'),

        (76, 'Кислородные концентраторы - купить медтехнику в Украине - интернет-магазин Medix'),

        (50, 'Аквадистилляторы - купить медтехнику в Украине - интернет-магазин Medix'),
        (51, 'Моечные машины - купить медтехнику в Украине - интернет-магазин Medix'),
        (48, 'Медицинские стерилизаторы - купить медтехнику в Украине - интернет-магазин Medix'),
        (49, 'Сухожаровые шкафы - купить медтехнику в Украине - интернет-магазин Medix'),

        (58, 'Иммуноферментный анализ - купить медтехнику в Украине - интернет-магазин Medix'),
        (57, 'Анализ электролитов и газов крови - купить медтехнику в Украине - интернет-магазин Medix'),
        (55, 'Биохимия - купить медтехнику в Украине - интернет-магазин Medix'),
        (56, 'Гематология - купить медтехнику в Украине - интернет-магазин Medix'),
        (82, 'Микроскопы - купить медтехнику в Украине - интернет-магазин Medix'),
        (59, 'Расходные и вспомогательные материалы для лаборатории - купить медтехнику в Украине - интернет-магазин Medix'),

        (53, 'Гибкая эндоскопия - купить медтехнику в Украине - интернет-магазин Medix'),
        (54, 'Дополнительное оборудование для эндоскопии - купить медтехнику в Украине - интернет-магазин Medix'),
        (52, 'Жесткая эндоскопия - купить медтехнику в Украине - интернет-магазин Medix'),

        (63, 'Ангиографы - купить медтехнику в Украине - интернет-магазин Medix'),
        (65, 'Денситометры - купить медтехнику в Украине - интернет-магазин Medix'),
        (60, 'КТ - купить медтехнику в Украине - интернет-магазин Medix'),
        (61, 'МРТ - купить медтехнику в Украине - интернет-магазин Medix'),
        (66, 'Маммографы - купить медтехнику в Украине - интернет-магазин Medix'),
        (62, 'Рентген-аппараты стационарные и передвижные - купить медтехнику в Украине - интернет-магазин Medix'),
        (64, 'Флюорографы - купить медтехнику в Украине - интернет-магазин Medix'),

        (67, 'Лазеры - купить медтехнику в Украине - интернет-магазин Medix'),
        (71, 'Визиографы - купить медтехнику в Украине - интернет-магазин Medix'),
        (72, 'Дентальные рентгены - купить медтехнику в Украине - интернет-магазин Medix'),
        (69, 'Компрессоры и аспираторы - купить медтехнику в Украине - интернет-магазин Medix'),
        (70, 'Стерилизация - купить медтехнику в Украине - интернет-магазин Medix'),
        (73, 'Стоматологические лазеры - купить медтехнику в Украине - интернет-магазин Medix'),
        (68, 'Стоматологические установки - купить медтехнику в Украине - интернет-магазин Medix'),

        (83, 'Компрессоры - купить медтехнику в Украине - интернет-магазин Medix'),
        (84, 'Стерилизационное оборудование - купить медтехнику в Украине - интернет-магазин Medix'),

        (74, 'Дерматология - купить медтехнику в Украине - интернет-магазин Medix'),
        (75, 'Косметология - купить медтехнику в Украине - интернет-магазин Medix')
      ) AS v(id, title_ru)
      WHERE s.id = v.id;
    `);

    await queryRunner.query(`
      UPDATE "subcategories" AS s
      SET "name_ru" = v.name_ru
      FROM (VALUES
        (4,  'Инфузионное оборудование'),
        (3,  'Хирургические аспираторы'),
        (77, 'Диодные хирургические лазеры'),
        (6,  'Электрохирургия'),
        (9,  'Наборы инструментов'),
        (7,  'Нейрохирургия'),
        (5,  'Операционные микроскопы'),
        (2,  'Операционные светильники'),
        (1,  'Операционные столы'),
        (78, 'Хирургические лазеры'),
        (8,  'Хирургические инструменты'),
        (10, 'Электрокардиографы'),
        (13, 'Внешние кардиостимуляторы'),
        (11, 'Мониторы пациентов'),
        (14, 'Пояса для ЭКГ'),
        (12, 'Холтеры ЭКГ и АД'),
        (16, 'Анестезионно-дыхательные аппараты'),
        (15, 'Аппараты искусственной вентиляции лёгких'),
        (17, 'Дефибрилляторы'),
        (18, 'Ларингоскопы'),
        (25, 'Медицинские тележки и каталки для перевозки больных'),
        (27, 'Медицинские кресла'),
        (24, 'Медицинские кушетки и массажные столы'),
        (19, 'Медицинские кровати'),
        (20, 'Медицинские столики'),
        (22, 'Медицинские стойки'),
        (28, 'Медицинские тумбы'),
        (23, 'Медицинские шкафы'),
        (21, 'Штативы'),
        (26, 'Медицинские стулья'),
        (31, 'Электротерапия'),
        (33, 'Комбинированная терапия'),
        (34, 'Лазерная терапия'),
        (32, 'Физиотерапевтические облучатели'),
        (35, 'Реабилитационное оборудование'),
        (30, 'Терапия'),
        (29, 'Ультразвуковая терапия'),
        (39, 'Диагностика'),
        (37, 'Щелевые лампы'),
        (80, 'Операционные микроскопы для офтальмологии'),
        (79, 'Наборы офтальмологических линз'),
        (36, 'Офтальмологические микроскопы'),
        (38, 'Офтальмоскопы'),
        (81, 'Столы операционные'),
        (42, 'Инкубаторы для новорожденных'),
        (46, 'Билирубинометры'),
        (41, 'Гинекологические кресла-столы'),
        (45, 'Кольпоскопы'),
        (44, 'Акушерские кровати'),
        (43, 'Мебель для неонатологии'),
        (47, 'Оборудование для фототерапии'),
        (40, 'Фетальные мониторы и допплеры'),
        (76, 'Кислородные концентраторы'),
        (50, 'Аквадистилляторы'),
        (51, 'Моечные машины'),
        (48, 'Медицинские стерилизаторы'),
        (49, 'Сухожаровые шкафы'),
        (58, 'Иммуноферментный анализ'),
        (57, 'Анализ электролитов и газов крови'),
        (55, 'Биохимия'),
        (56, 'Гематология'),
        (82, 'Микроскопы'),
        (59, 'Расходные материалы для лаборатории'),
        (53, 'Гибкая эндоскопия'),
        (54, 'Дополнительное оборудование для эндоскопии'),
        (52, 'Жесткая эндоскопия'),
        (63, 'Ангиографы'),
        (65, 'Денситометры'),
        (60, 'КТ'),
        (61, 'МРТ'),
        (66, 'Маммографы'),
        (62, 'Рентген-аппараты стационарные и передвижные'),
        (64, 'Флюорографы'),
        (67, 'Лазеры'),
        (71, 'Визиографы'),
        (72, 'Дентальные рентгены'),
        (69, 'Компрессоры и аспираторы'),
        (70, 'Стерилизация'),
        (73, 'Стоматологические лазеры'),
        (68, 'Стоматологические установки'),
        (83, 'Компрессоры'),
        (84, 'Стерилизационное оборудование'),
        (74, 'Дерматология'),
        (75, 'Косметология')
      ) AS v(id, name_ru)
      WHERE s.id = v.id;
    `);

    // --- Bulk set subcategories.heading_ru (short names, no SEO tail) ---
    await queryRunner.query(`
      UPDATE "subcategories" AS s
      SET "heading_ru" = v.heading_ru
      FROM (VALUES
        (4,  'Инфузионное оборудование'),
        (3,  'Хирургические аспираторы'),
        (77, 'Диодные хирургические лазеры'),
        (6,  'Электрохирургия'),
        (9,  'Наборы инструментов'),
        (7,  'Нейрохирургия'),
        (5,  'Операционные микроскопы'),
        (2,  'Операционные светильники'),
        (1,  'Операционные столы'),
        (78, 'Хирургические лазеры'),
        (8,  'Хирургические инструменты'),

        (10, 'Электрокардиографы'),
        (13, 'Внешние кардиостимуляторы'),
        (11, 'Мониторы пациентов'),
        (14, 'Пояса для ЭКГ'),
        (12, 'Холтеры ЭКГ и АД'),

        (16, 'Анестезионно-дыхательные аппараты'),
        (15, 'Аппараты искусственной вентиляции лёгких'),
        (17, 'Дефибрилляторы'),
        (18, 'Ларингоскопы'),

        (25, 'Медицинские тележки и каталки для перевозки больных'),
        (27, 'Медицинские кресла'),
        (24, 'Медицинские кушетки и массажные столы'),
        (19, 'Медицинские кровати'),
        (20, 'Медицинские столики'),
        (22, 'Медицинские стойки'),
        (28, 'Медицинские тумбы'),
        (23, 'Медицинские шкафы'),
        (21, 'Штативы'),
        (26, 'Медицинские стулья'),

        (31, 'Электротерапия'),
        (33, 'Комбинированная терапия'),
        (34, 'Лазерная терапия'),
        (32, 'Физиотерапевтические облучатели'),
        (35, 'Реабилитационное оборудование'),
        (30, 'Терапия'),
        (29, 'Ультразвуковая терапия'),

        (39, 'Диагностика'),
        (37, 'Щелевые лампы'),
        (80, 'Операционные микроскопы для офтальмологии'),
        (79, 'Наборы офтальмологических линз'),
        (36, 'Офтальмологические микроскопы'),
        (38, 'Офтальмоскопы'),
        (81, 'Столы операционные'),

        (42, 'Инкубаторы для новорожденных'),
        (46, 'Билирубинометры'),
        (41, 'Гинекологические кресла-столы'),
        (45, 'Кольпоскопы'),
        (44, 'Акушерские кровати'),
        (43, 'Мебель для неонатологии'),
        (47, 'Оборудование для фототерапии'),
        (40, 'Фетальные мониторы и допплеры'),

        (76, 'Кислородные концентраторы'),

        (50, 'Аквадистилляторы'),
        (51, 'Моечные машины'),
        (48, 'Медицинские стерилизаторы'),
        (49, 'Сухожаровые шкафы'),

        (58, 'Иммуноферментный анализ'),
        (57, 'Анализ электролитов и газов крови'),
        (55, 'Биохимия'),
        (56, 'Гематология'),
        (82, 'Микроскопы'),
        (59, 'Расходные и вспомогательные материалы для лаборатории'),

        (53, 'Гибкая эндоскопия'),
        (54, 'Дополнительное оборудование для эндоскопии'),
        (52, 'Жесткая эндоскопия'),

        (63, 'Ангиографы'),
        (65, 'Денситометры'),
        (60, 'КТ'),
        (61, 'МРТ'),
        (66, 'Маммографы'),
        (62, 'Рентген-аппараты стационарные и передвижные'),
        (64, 'Флюорографы'),

        (67, 'Лазеры'),
        (71, 'Визиографы'),
        (72, 'Дентальные рентгены'),
        (69, 'Компрессоры и аспираторы'),
        (70, 'Стерилизация'),
        (73, 'Стоматологические лазеры'),
        (68, 'Стоматологические установки'),

        (83, 'Компрессоры'),
        (84, 'Стерилизационное оборудование'),

        (74, 'Дерматология'),
        (75, 'Косметология')
      ) AS v(id, heading_ru)
      WHERE s.id = v.id;
    `);
  }

  public async down(queryRunner: QueryRunner): Promise<void> {
    await queryRunner.query(`
      UPDATE "categories"
      SET "name_ru" = NULL,
          "title_ru" = NULL,
          "heading_ru" = NULL
      WHERE id IN (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18);
    `);

    await queryRunner.query(`
      UPDATE "subcategories"
      SET "name_ru" = NULL,
          "title_ru" = NULL,
          "heading_ru" = NULL
      WHERE id IN (
        4,3,77,6,9,7,5,2,1,78,8,
        10,13,11,14,12,
        16,15,17,18,
        25,27,24,19,20,22,28,23,21,26,
        31,33,34,32,35,30,29,
        39,37,80,79,36,38,81,
        42,46,41,45,44,43,47,40,
        76,
        50,51,48,49,
        58,57,55,56,82,59,
        53,54,52,
        63,65,60,61,66,62,64,
        67,71,72,69,70,73,68,
        83,84,
        74,75
      );
    `);

    await queryRunner.query(`
      ALTER TABLE "subcategories"
        DROP COLUMN IF EXISTS "keywords_ru",
        DROP COLUMN IF EXISTS "description_ru",
        DROP COLUMN IF EXISTS "heading_ru",
        DROP COLUMN IF EXISTS "title_ru",
        DROP COLUMN IF EXISTS "name_ru";
    `);

    await queryRunner.query(`
      ALTER TABLE "categories"
        DROP COLUMN IF EXISTS "keywords_ru",
        DROP COLUMN IF EXISTS "description_ru",
        DROP COLUMN IF EXISTS "heading_ru",
        DROP COLUMN IF EXISTS "title_ru",
        DROP COLUMN IF EXISTS "name_ru";
    `);
  } /**/
}
